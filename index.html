<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="Create NanoPlot online">

	<title>TyphiNET</title>

	<link href="css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
	<link href="css/nanoplot.min.css" rel="stylesheet">

	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script type="text/javascript" src="js/plupload.full.min.js"></script>
	<script type="text/javascript" src="js/custom.js"></script>
</head>

<body>
    <main role="main" class="container">
      <div class="mt-1">
        <h1>TyphiNET</h1>
      </div>
      <p class="lead">You can create plot reports online using PW metadata and this simple tool.</p>
<p>

<br />

<!-- Drop Zone -->
<div class="upload-drop-zone" id="drop-zone">
<div id="filelist"></div>
<div id="help"><a id="pickfiles" href="javascript:;">[Select summary]</a> Or drag and drop it here </div>
</div>
<a id="uploadfiles" href="javascript:;" style="display:none">Upload File</a>

<!-- plot customization -->
<form action="nanoplot.php" method="POST" name="post_form" id="post_form" style="display:none">
	<p><b>These options are optional</b></p>
	<div class="form-group row">
		<label for="inputmaxlength" class="col-sm-2 col-form-label">Max length</label>
		<div class="col-sm-10">
			<input type="number" class="form-control" id="inputmaxlength" placeholder="maxlength" name="maxlength">
			<small class="form-text text-muted">Drop reads longer than length specified.</small>
		</div>
	</div>
	<div class="form-group row">
		<label for="minquality" class="col-sm-2 col-form-label">Min quality</label>
		<div class="col-sm-10">
			<input type="number" class="form-control" id="minquality" placeholder="min quality" name="minquality">
			<small class="form-text text-muted">Drop reads with an average quality lower than specified.</small>
		</div>
	</div>
  <div class="form-group row">
    <label for="inputColor" class="col-sm-2 col-form-label">Color</label>
    <div class="col-sm-10">
      <select class="custom-select" id="color_select" name="color">
			<option value="black" style="color: black">black</option>
			<option value="blue" style="color: blue">blue</option>
			<option value="brown" style="color: brown">brown</option>
			<option value="cyan" style="color: cyan">cyan</option>
			<option value="darkgrey" style="color: darkgrey">darkgrey</option>
			<option value="gold" style="color: gold">gold</option>
			<option value="green" selected="selected" style="color: green">green</option>
			<option value="lime" style="color: lime">lime</option>
			<option value="orange" style="color: orange">orange</option>
			<option value="pink" style="color: pink">pink</option>
			<option value="teal" style="color: teal">teal</option>
			<option value="white" >white</option>
			<option value="yellow" style="color: yellow">yellow</option>
		</select>
    </div>
  </div>
  <div class="form-group row">
      <label class="col-sm-2">Drop outliers</label>
      <div class="col-sm-10">
        <div class="form-check">
          <label class="form-check-label">
            <input class="form-check-input" type="checkbox" name="outliers"> Yes
          </label>
		  <small class="form-text text-muted">Drop outlier reads with extreme long length.</small>  
        </div>
      </div>
    </div>
    <div class="form-group row">
      <label class="col-sm-2">Log scale plots</label>
      <div class="col-sm-10">
        <div class="form-check">
          <label class="form-check-label">
            <input class="form-check-input" type="checkbox" name="logscale"> Yes
          </label>
		  <small class="form-text text-muted">Logarithmic scaling of lengths in plots.</small>  
        </div>
      </div>
    </div>
  <div class="form-group row">
    <div class="col-sm-10">
	  <input type="hidden" name="fileid" value="" id="fileid">
	  <input type="submit" name="run_nanoplot" value="Run NanoPlot" class="btn btn-primary"/>
    </div>
  </div>
</form>

<br />
<pre id="console"></pre>
 
 </p>

<h2>FAQ</h2>
<ul class="list-group">
  <li class="list-group-item list-group-item-action flex-column align-items-start">
    <div class="d-flex w-100 justify-content-between">
      <h5 class="mb-1">How do I use the online tool ?</h5>
    </div>
    <p class="mb-1">Albacore/Guppy creates a summary, <b>sequencing_summary.txt</b>. This summary is used by nanoplot to generate it plots. You can upload the data using the upload-field above. Once the run is completed, a report will be generated.</p>
  </li>
   <li class="list-group-item list-group-item-action flex-column align-items-start">
    <div class="d-flex w-100 justify-content-between">
      <h5 class="mb-1">How long is my data stored ?</h5>
    </div>
    <p class="mb-1">The uploaded summary is stored untill the run is finished and is then removed from our server. The resulting report is only removed upon user request.</p>
  </li>
  <li class="list-group-item list-group-item-action flex-column align-items-start">
    <div class="d-flex w-100 justify-content-between">
      <h5 class="mb-1">Can I upload bam/sam/fastq files ?</h5>
    </div>
    <p class="mb-1">No, this tool is aimed at exploring NanoPlot. If you wish to use more features, install it locally. (see <a href="https://github.com/wdecoster/NanoPlot">github.com/wdecoster/NanoPlot</a>)</p>
  </li>
  <li class="list-group-item list-group-item-action flex-column align-items-start">
    <div class="d-flex w-100 justify-content-between">
      <h5 class="mb-1">What are the restrictions to online tool ?</h5>
    </div>
    <p class="mb-1"><ul>
					<li>Fair use</li>
					<li>File size : limit to 100 MB</li>
					<li>File ext : text file only</li>
					<li>NanoPlot version : NanoPlot 1.30.1 (16/07/2020)</li>
					</ul></p>
  </li>
</ul>  

<br/>
 
</main>

<!-- execute -->
<script type="text/javascript" src="js/plupload.nanopore.js"></script>
  <footer class="footer">
      <div class="container">
        <span class="text-muted"><a href="https://github.com/wdecoster/NanoPlot">NanoPlot</a> is created and maintained by <a href="https://github.com/wdecoster">wdecoster</a>, webservice by <a href="https://www.svennd.be">svennd</a>.</span>
      </div>
    </footer>
</body>
</html>
